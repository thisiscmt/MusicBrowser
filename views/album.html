<div ng-controller="AlbumLookupCtrl">
    <div class="container-fluid">
        <div ng-show="!ready">
            Retrieving album ...
        </div>

        <div id="messagePanel" ng-show="hasMessage">{{msg}}</div>

        <div ng-show="ready && !hasMessage">
            <div>
                <div class="lookupImageContainer">
                    <img ng-src="{{album.primaryImage}}" title="Album cover" class="lookupImage" />
                </div>

                <div class="lookupMetaContainer">
                    <div class="mainName">{{album.title}}</div>

                    <div class="topPadding5">
                        <a class="noUnderline" ng-attr-title="Look up {{artist.name}}" ng-repeat="artist in album.primaryArtists" ng-href="#artist/{{artist.id}}">
                            <span class="label label-success metaLabel">{{artist.name}}</span>
                        </a>
                    </div>

                    <div ng-show="hasReleaseDate" class="topPadding5 smallerText">
                        <span>Released:&nbsp;{{album.originalReleaseDate}}</span>
                    </div>

                    <div class="topPadding5">
                        <span ng-repeat="style in album.styles" class="label label-primary metaLabel">
                            <a ng-href="#style/{{style.id}}" class="styleLink">{{style.name}}</a>
                        </span>
                    </div>

                    <div class="topPadding5 smallerText" ng-show="hasHeadlineReview">
                        <span ng-bind-html="album.headlineReviewFormatted"></span>&nbsp;<a ng-show="album.headlineReviewFormatted.length > maxShortDescriptionLength" ng-href="{{fullReviewLink}}">(more)</a>
                    </div>
                </div>
            </div>

            <div class="discographyContainer">
                <ul class="standardList">
                    <li ng-repeat="track in album.tracks" class="panel panel-default">
                        <div class="metaContainer">
                            <div>
                                <span class="mainName">{{track.title}}</span>
                            </div>
                            <div class="smallText">
                                <span class="metaLabelWithSeparator" ng-repeat="performer in track.performers">{{performer.name}}</span>
                            </div>
                        </div>

                        <div class="imageContainer">
                            <span>{{track.duration}}</span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
